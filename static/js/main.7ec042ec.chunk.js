(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,n){e.exports={spinner:"Spinner_spinner__1-O9Z"}},110:function(e,t,n){e.exports=n(227)},141:function(e,t){},143:function(e,t){},177:function(e,t){},178:function(e,t){},227:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(101),l=n.n(c),o=n(229),u=n(231),i=n(230),m=n(18),s=n(8),h=n(104),p=n(105),E=n(41),d="FETCH_WEATHER_BEGIN",f="FETCH_WEATHER_SUCCESS",b="FETCH_WEATHER_FAILURE",y={weather:[],loading:!1,error:null};var g=Object(s.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(E.a)({},e,{loading:!0,error:null});case f:return Object(E.a)({},e,{loading:!1,weather:t.payload});case b:return Object(E.a)({},e,{loading:!1,error:t.payload.error});default:return e}}}),O=Object(s.d)(g,Object(s.a)(p.a,h.logger)),j=n(106),v=n.n(j),w="1d1ed4c5c279b3103998e234955244b6";function C(e){var t=e||{},n=t.latitude,a=t.longitude,r="https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=").concat(w),c="https://api.openweathermap.org/data/2.5/forecast?lat=".concat(n,"&lon=").concat(a,"&appid=").concat(w),l="object"===typeof e?c:r;return function(e){v.a.get(l).then(function(t){return e(k(t)),t}).catch(function(t){return e(S(t))})}}var k=function(e){return{type:f,payload:e.data}},S=function(e){return{type:b,payload:e.message}},W=n(15),F=n(16),N=n(19),_=n(17),H=n(20),T=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(N.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).state={city:""},n.onInputChange=function(e){n.setState({city:e.target.value})},n.onFormSubmit=function(e){e.preventDefault(),n.props.fetchWeather(n.state.city),n.setState({city:""})},n}return Object(H.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.onFormSubmit},r.a.createElement("label",{htmlFor:"city"},"Change city: "),r.a.createElement("input",{type:"text",id:"city",value:this.state.city,placeholder:this.props.city,onChange:this.onInputChange}),r.a.createElement("button",{type:"submit",onClick:this.onFormSubmit},">"))}}]),t}(a.Component),A=Object(m.b)(function(e){return{weather:e.weather}},function(e){return Object(s.b)({fetchWeather:C},e)})(T),I=n(228),P=function(e){function t(){return Object(W.a)(this,t),Object(N.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",null,r.a.createElement("ul",{className:"navbar"},r.a.createElement("li",{className:"navbar-item"},r.a.createElement(I.a,{to:"/"},"Hourly details")),r.a.createElement("li",{className:"navbar-item"},r.a.createElement(I.a,{to:"/charts"},"Charts"))))}}]),t}(a.Component),R=Object(m.b)(function(e){return e.weather},function(e){return Object(s.b)({fetchWeather:C},e)})(function(e){var t=e.weather.city?e.weather.city.name:"";return r.a.createElement("header",null,r.a.createElement("h3",null,"Weather forecast for ",t),r.a.createElement(P,null),r.a.createElement(A,{city:t}))}),x=new Promise(function(e,t){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(t){e(t.coords)},function(e){e.code===e.PERMISSION_DENIED&&console.error("Error detecting location")}):t(new Error("Error fetching data"))}),D=n(107),M=n.n(D),L=function(){return r.a.createElement("div",{className:M.a.spinner})},B=n(37),J=(n(224),function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(N.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(c)))).renderWeather=function(e){return r.a.createElement("tr",{key:Object(B.v4)()},r.a.createElement("td",null,e.dt_txt),r.a.createElement("td",null,(e.main.temp-273.15).toFixed(2)," \xb0C"),r.a.createElement("td",null,e.main.pressure," hPa"),r.a.createElement("td",null,e.main.humidity,"%"))},n}return Object(H.a)(t,e),Object(F.a)(t,[{key:"render",value:function(){return this.props.weather.list?r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"has-background-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"Temperature"),r.a.createElement("th",null,"Pressure "),r.a.createElement("th",null,"Humidity"))),r.a.createElement("tbody",null,this.props.weather.list.map(this.renderWeather)))):r.a.createElement(L,null)}}]),t}(a.Component)),U=function(e){function t(){return Object(W.a)(this,t),Object(N.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(H.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this;x.then(function(t){return e.props.fetchWeather(t)})}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.loading,a=e.weather;return t?r.a.createElement("p",null,t.message):r.a.createElement("section",{className:"section"},n?r.a.createElement(L,null):r.a.createElement(J,{weather:a}))}}]),t}(a.Component),q=Object(m.b)(function(e){return e.weather},function(e){return Object(s.b)({fetchWeather:C},e)})(U),G=n(58),Z=n.n(G),z=n(40),K=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.Sparklines,{height:120,width:180,data:e.data},r.a.createElement(z.SparklinesLine,{color:e.color}),r.a.createElement(z.SparklinesReferenceLine,{type:"avg"})),r.a.createElement("p",null,"Average: ",(t=e.data,Z.a.round(Z.a.sum(t)/t.length))," ",e.units));var t},Q=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(N.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(c)))).renderWeather=function(e){var t=e.list.map(function(e){return Math.trunc(e.main.temp-273.15)}),n=e.list.map(function(e){return e.main.pressure}),a=e.list.map(function(e){return e.main.humidity});return r.a.createElement("tr",{key:Object(B.v4)()},r.a.createElement("td",null,r.a.createElement(K,{data:t,color:"orange",units:"\xb0C"})),r.a.createElement("td",null,r.a.createElement(K,{data:n,color:"green",units:"hPa"})),r.a.createElement("td",null,r.a.createElement(K,{data:a,color:"black",units:"%"})))},n}return Object(H.a)(t,e),Object(F.a)(t,[{key:"componentDidMount",value:function(){var e=this;x.then(function(t){return e.props.fetchWeather(t)})}},{key:"render",value:function(){return this.props.weather.list?r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"has-background-light"},r.a.createElement("tr",null,r.a.createElement("th",null,"Temperature"),r.a.createElement("th",null,"Pressure "),r.a.createElement("th",null,"Humidity"))),r.a.createElement("tbody",null,this.renderWeather(this.props.weather))):r.a.createElement(L,null)}}]),t}(a.Component),V=Object(m.b)(function(e){return e.weather},function(e){return Object(s.b)({fetchWeather:C},e)})(Q);l.a.render(r.a.createElement(function(e){var t=e.children;return r.a.createElement(m.a,{store:O},t)},null,r.a.createElement(o.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement(u.a,null,r.a.createElement(i.a,{path:"/charts",component:V}),r.a.createElement(i.a,{path:"/",component:q}))))),document.getElementById("root"))}},[[110,2,1]]]);
//# sourceMappingURL=main.7ec042ec.chunk.js.map