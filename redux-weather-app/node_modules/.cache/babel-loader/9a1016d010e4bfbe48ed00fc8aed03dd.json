{"ast":null,"code":"import axios from 'axios';\nimport { FETCH_WEATHER_BEGIN, FETCH_WEATHER_SUCCESS, FETCH_WEATHER_FAILURE } from 'redux/actions/types';\nvar API_KEY = '1d1ed4c5c279b3103998e234955244b6';\nvar ROOT_URL = \"https://api.openweathermap.org/data/2.5/forecast?appid=\".concat(API_KEY, \"k8\");\nvar city = 'Warsaw';\nvar url = \"\".concat(ROOT_URL, \"&q=\").concat(city, \",pl\"); // export function fetchWeather() {\n//   return dispatch => {\n//     dispatch(fetchWeatherBegin());\n//     return axios.get(url)\n//       // .then(handleErrors)\n//       // .then(response => response.json())\n//       .then(response => {\n//         dispatch(fetchWeatherSuccess(response));\n//         return response;\n//       })\n//       .catch(error => dispatch(fetchWeatherFailure(error)));\n//   };\n// }\n\nexport function fetchWeather() {\n  return function (dispatch) {\n    axios.get(url).then(function (response) {\n      dispatch(fetchWeatherSuccess(response));\n      console.log(response);\n      return response;\n    }).catch(function (error) {\n      return dispatch(fetchWeatherFailure(error));\n    });\n  };\n} // function handleErrors(response) {\n//   if (!response.ok) {\n//     throw Error(response.statusText);\n//   }\n//   return response;\n// }\n\nexport var fetchWeatherBegin = function fetchWeatherBegin() {\n  return {\n    type: FETCH_WEATHER_BEGIN\n  };\n};\nexport var fetchWeatherSuccess = function fetchWeatherSuccess(response) {\n  console.log(response.data);\n  return {\n    type: FETCH_WEATHER_SUCCESS,\n    payload: response.data\n  };\n}; // export const fetchWeatherSuccess = weather => ({\n//   type: FETCH_WEATHER_SUCCESS,\n//   payload: { weather }\n// });\n\nexport var fetchWeatherFailure = function fetchWeatherFailure(error) {\n  console.log(error);\n  return {\n    type: FETCH_WEATHER_FAILURE,\n    payload: error.message\n  };\n};","map":{"version":3,"sources":["/Users/kama/Desktop/CODE/Education/redux-weather-app/src/redux/actions/index.js"],"names":["axios","FETCH_WEATHER_BEGIN","FETCH_WEATHER_SUCCESS","FETCH_WEATHER_FAILURE","API_KEY","ROOT_URL","city","url","fetchWeather","dispatch","get","then","response","fetchWeatherSuccess","console","log","catch","error","fetchWeatherFailure","fetchWeatherBegin","type","data","payload","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,mBADF,EAEEC,qBAFF,EAGEC,qBAHF,QAIO,qBAJP;AAMA,IAAMC,OAAO,GAAG,kCAAhB;AACA,IAAMC,QAAQ,oEAA6DD,OAA7D,OAAd;AACA,IAAME,IAAI,GAAG,QAAb;AACA,IAAMC,GAAG,aAAMF,QAAN,gBAAoBC,IAApB,QAAT,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASE,YAAT,GAAwB;AAC7B,SAAO,UAAAC,QAAQ,EAAI;AACjBT,IAAAA,KAAK,CAACU,GAAN,CAAUH,GAAV,EACCI,IADD,CACM,UAAAC,QAAQ,EAAI;AAChBH,MAAAA,QAAQ,CAACI,mBAAmB,CAACD,QAAD,CAApB,CAAR;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AACA,aAAOA,QAAP;AACD,KALD,EAMCI,KAND,CAMO,UAAAC,KAAK;AAAA,aAAIR,QAAQ,CAACS,mBAAmB,CAACD,KAAD,CAApB,CAAZ;AAAA,KANZ;AAOD,GARD;AASD,C,CAED;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAME,iBAAiB,GAAG,SAApBA,iBAAoB;AAAA,SAAO;AACtCC,IAAAA,IAAI,EAAEnB;AADgC,GAAP;AAAA,CAA1B;AAIP,OAAO,IAAMY,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAD,QAAQ,EAAI;AAC7CE,EAAAA,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACS,IAArB;AACA,SAAO;AACLD,IAAAA,IAAI,EAAElB,qBADD;AAELoB,IAAAA,OAAO,EAAEV,QAAQ,CAACS;AAFb,GAAP;AAID,CANM,C,CAQP;AACA;AACA;AACA;;AAEA,OAAO,IAAMH,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAD,KAAK,EAAI;AAC1CH,EAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACA,SAAO;AACLG,IAAAA,IAAI,EAAEjB,qBADD;AAELmB,IAAAA,OAAO,EAAEL,KAAK,CAACM;AAFV,GAAP;AAID,CANM","sourcesContent":["import axios from 'axios';\nimport { \n  FETCH_WEATHER_BEGIN,\n  FETCH_WEATHER_SUCCESS,\n  FETCH_WEATHER_FAILURE\n} from 'redux/actions/types';\n\nconst API_KEY = '1d1ed4c5c279b3103998e234955244b6';\nconst ROOT_URL = `https://api.openweathermap.org/data/2.5/forecast?appid=${API_KEY}k8`;\nconst city = 'Warsaw';\nconst url = `${ROOT_URL}&q=${city},pl`;\n\n// export function fetchWeather() {\n//   return dispatch => {\n//     dispatch(fetchWeatherBegin());\n//     return axios.get(url)\n//       // .then(handleErrors)\n//       // .then(response => response.json())\n//       .then(response => {\n//         dispatch(fetchWeatherSuccess(response));\n//         return response;\n//       })\n//       .catch(error => dispatch(fetchWeatherFailure(error)));\n//   };\n// }\n\nexport function fetchWeather() {\n  return dispatch => {\n    axios.get(url)\n    .then(response => {\n      dispatch(fetchWeatherSuccess(response));\n      console.log(response);\n      return response; \n    })\n    .catch(error => dispatch(fetchWeatherFailure(error)));\n  };\n}\n\n// function handleErrors(response) {\n//   if (!response.ok) {\n//     throw Error(response.statusText);\n//   }\n//   return response;\n// }\n\nexport const fetchWeatherBegin = () => ({\n  type: FETCH_WEATHER_BEGIN\n});\n\nexport const fetchWeatherSuccess = response => {\n  console.log(response.data);\n  return {\n    type: FETCH_WEATHER_SUCCESS,\n    payload: response.data\n  };\n}\n\n// export const fetchWeatherSuccess = weather => ({\n//   type: FETCH_WEATHER_SUCCESS,\n//   payload: { weather }\n// });\n\nexport const fetchWeatherFailure = error => {\n  console.log(error);\n  return {\n    type: FETCH_WEATHER_FAILURE,\n    payload: error.message\n  }\n}"]},"metadata":{},"sourceType":"module"}